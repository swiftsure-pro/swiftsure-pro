<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Guideline: Defining Extend Relationships</title>
<meta name="uma.type" content="Guideline">
<meta name="uma.name" content="defining_extend_relationships">
<meta name="uma.presentationName" content="Defining Extend Relationships">
<meta name="element_type" content="other">
<meta name="filetype" content="description">
<meta name="role" content="none">
<link rel="StyleSheet" href="./../../../css/default.css" type="text/css">
<script src="./../../../scripts/ContentPageResource.js" type="text/javascript" language="JavaScript"></script><script src="./../../../scripts/ContentPageSection.js" type="text/javascript" language="JavaScript"></script><script src="./../../../scripts/ContentPageSubSection.js" type="text/javascript" language="JavaScript"></script><script src="./../../../scripts/ContentPageToolbar.js" type="text/javascript" language="JavaScript"></script><script src="./../../../scripts/contentPage.js" type="text/javascript" language="JavaScript"></script><script type="text/javascript" language="JavaScript">
					var backPath = './../../../';
					var imgPath = './../../../images/';
					var nodeInfo=null;
					contentPage.preload(imgPath, backPath, nodeInfo,  '', false, false, false);
				</script>
</head>
<body>
<div id="breadcrumbs"></div>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td valign="top"><a name="Top"></a>
<div id="page-guid" value="_hjbKkEk-Edyi3_jfs__bIQ"></div>
<table border="0" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td class="pageTitle" nowrap="true">Guideline: Defining Extend Relationships</td><td width="100%">
<div align="right" id="contentPageToolbar"></div>
</td><td width="100%" class="expandCollapseLink" align="right"><a name="mainIndex" href="./../../../index.htm"></a><script language="JavaScript" type="text/javascript" src="./../../../scripts/treebrowser.js"></script></td>
</tr>
</table>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td class="pageTitleSeparator"><img src="./../../../images/shim.gif" alt="" title="" height="1"></td>
</tr>
</table>
<div class="overview">
<table width="97%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="50"><img src="./../../../images/guidance.gif" alt="" title=""></td><td>
<table class="overviewTable" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top">The extend-relationship connects an extension use case to a base use case. This guideline demonstrates how to use this relationship.</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Relationships</div>
<div class="sectionContent">
<table class="sectionTable" border="0" cellspacing="0" cellpadding="0">
<tr valign="top">
<th class="sectionTableHeading" scope="row">Related Elements</th><td class="sectionTableCell">
<ul>
<li>
<a href="./../../../practice.tech.use_case_driven_dev.extend-ibm/tasks/structure_the_use_case_model_9BB33D90.html" guid="_CxpC0EEDEdyoefaQkqWN_Q">Structure the Use-Case Model</a>
</li>
</ul>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">Main Description</div>
<div class="sectionContent">
<table class="sectionTable" border="0" cellspacing="0" cellpadding="0">
<tr valign="top">
<td class="sectionTableSingleCell"><h3>
    <a id="Explanation" name="Explanation">Explanation</a>
</h3>
<p>
    The extend-relationship connects an extension use case to a base use case. You define where in the base to insert the
    extension by referring to extension points in the base use case (see <a class="elementLinkWithType" href="./../../../core.tech.common.extend_supp/guidances/concepts/use_case_BB199D1B.html" guid="_KudM0NcJEdqz_d2XWoVt6Q">Concept: Use Case</a>, the discussion on extension points). The extension use case is
    often abstract, but does not have to be.
</p>
<p>
    You can use the extensions for several purposes:
</p>
<ul>
    <li>
        To show that a part of a use case is optional, or potentially optional, system behavior. In this way, you separate
        optional behavior from mandatory behavior in your model.
    </li>
    <li>
        To show that a subflow is executed only under certain (sometimes exceptional) conditions, such as triggering an
        alarm.
    </li>
    <li>
        To show that there might be a set of behavior segments of which one or several&nbsp;can be inserted at an extension
        point in a base use case. The behavior segments that are inserted (and the order in which they are inserted) will
        depend on the interaction with the actors during the execution of the base use case.
    </li>
</ul>
<p>
    The extension is conditional, which means its execution is dependent on what has happened while executing the base use
    case. The base use case does not control the conditions for the execution of the extension - the conditions are
    described within the extend-relationship. The extension use case&nbsp;can access and modify attributes of the base use
    case. The base use case, however, cannot see the extensions and&nbsp;cannot access their attributes.
</p>
<p>
    The base use case is implicitly modified by the extensions. You can also say that the base use case defines a modular
    framework into which extensions can be added, but the base does not have any visibility of the specific extensions.
</p>
<p>
    The base use case&nbsp;must be complete in and of itself, meaning that it&nbsp;must be understandable and meaningful
    without any references to the extensions. However, the base use case is not independent of the extensions,&nbsp;because
    it cannot be executed without the possibility of following the extensions.
</p>
<h5>
    Example:
</h5>
<p class="example" align="center">
    <img height="186" alt="Diagram described in accompanying text." src="./../../../practice.tech.use_case_driven_dev.extend-ibm/guidances/guidelines/./resources/extend1.gif" width="300" />
</p>
<p class="picturetext">
    The use cases Place Conference Call and Show Caller Identity are both extensions to the base use case Place Call.
</p>
<p class="example">
    In a phone system, the primary service provided to the users is represented by the use case Place Call. Examples of
    optional services are:
</p>
<ul>
    <li>
        <p class="example">
            To be able to add a third party to a call (Place Conference Call).
        </p>
    </li>
    <li>
        <p class="example">
            To&nbsp;enable the receiving party to see the identity of the caller (Show Caller Identity).
        </p>
    </li>
</ul>
<p class="example">
    We can represent the behaviors needed for these optional services as extension use cases to the base use case Place
    Call. This is a correct use of the extend-relationship:&nbsp;because Place Call is meaningful in itself, you do not
    need to read the descriptions of the extension use cases to understand the primary purpose of the base use case, and
    the extensions use cases have optional character.
</p>
<p>
    The extension use case can consist of one or more insertion segments, each of which&nbsp;can have alternative paths
    built into it. These insertion segments incrementally modify the behavior of the base use case. Each insertion segment
    in an extension use case can be inserted at a separate location in the base use case. This means that the
    extend-relationship has a list of references to extension points, equal in number to the number of insertion segments
    in the extension use case. Each extension point must be defined in the base use case.
</p>
<p>
    One base use case consist of several extend-relationships, which means a use case instance can follow more than one
    extension during its lifetime. One extension use case&nbsp;can extend into several base use cases, but this does not
    imply any dependency between the base use cases. There&nbsp;can even be multiple extend-relationships between the same
    extension use case and base use case, provided the extension is inserted at different locations in the base. This means
    the different extend-relationships need to refer to different extension points in the base use case. An extension use
    case&nbsp;might itself be the base in an extend-, include-, or generalization-relationship. For example, this means
    extension use cases can extend other extension use cases in a nested manner.
</p>
<h3>
    <a id="Executing the Extension" name="Executing the Extension">Executing the Extension</a>
</h3>
<p>
    When a use-case instance performing the base use case reaches a location in the base use case where an extension point
    has been defined, the condition on the corresponding extend-relationship is evaluated. If the condition is true or if
    it is absent, the use-case instance will follow the extension (or the insertion segment within it that corresponds to
    the extension point). If the condition of the extend-relationship is false, the extension is not executed.
</p>
<p>
    The extension use case may, just like any use case, have a basic flow of events and alternative flows of events (see <a class="elementLinkWithType" href="./../../../core.tech.common.extend_supp/guidances/concepts/use_case_BB199D1B.html" guid="_KudM0NcJEdqz_d2XWoVt6Q">Concept: Use Case</a>, the discussion on structure of flow of events). Which exact path
    the use-case instance will take through the extension depends on what has happened before in the execution (the state
    of the use-case instance) and also what happens in interaction with actors as the extension is executed. Once the
    use-case instance has performed the extension, the use-case instance resumes executing the base use case at the point
    where it left off.
</p>
<p align="center">
    <img height="224" alt="Diagram described in accompanying text." src="./../../../practice.tech.use_case_driven_dev.extend-ibm/guidances/guidelines/./resources/extend2.gif" width="312" />
</p>
<p class="picturetext">
    A use-case instance following a base use case and its extension.
</p>
<p>
    An extension use case can have more than one insertion segment, each related to its own extension point in the base use
    case. If this is the case, the use-case instance will resume the base use case and continue to the next extension point
    specified in the extend-relationship. At that point it will&nbsp;start the next insertion segment of the extension use
    case. This is repeated until the last insertion segment has been executed. The condition for the extend-relationship is
    checked at the first extension point only - if the condition is true, the use-case instance must perform all insertion
    segments.
</p>
<p align="center">
    <img height="224" alt="Diagram described in accompanying text." src="./../../../practice.tech.use_case_driven_dev.extend-ibm/guidances/guidelines/./resources/extend3.gif" width="317" />
</p>
<p class="picturetext">
    A use-case instance following a base use case and an extension use case, the latter with two insertion segments.
</p>
<p>
    The multiplicity of the extend-relationship will constrain the number of repetitions of the entire extension
    that&nbsp;can occur. It is the entire extension that is repeated (and limited by the multiplicity), not just one
    insertion segment.
</p>
<p>
    The base use case does not have dependencies to the extended use case(s), but the extended use case requires at least
    one base use case. Without it, the extended use case is not a complete end-to-end scenario and would be out of context.
</p>
<h3>
    Documenting the Extend-Relationship
</h3>
<p>
    Describe the condition of the extension in terms of attributes of the base use case. You can also choose to omit the
    condition, in which case the extension will always be executed.
</p>
<p>
    Each extend-relationship has a list of references to extension points (one or more) in the base use case. The extension
    points are referenced by name. If the extension use case has multiple insertion segments, you need to specify which
    segment corresponds to which extension point. You also need to specify which steps or subflows of the extension use
    case constitute each insertion segment.
</p>
<h5>
    Example:
</h5>
<p class="example">
    In a phone system, the use case Place Call can be extended by the abstract use case Show Caller Identity. This is an
    optional service, often referred to as "Caller ID", that&nbsp;can or cannot have been requested by the receiving party.
    A description of the extend-relationship from Show Caller Identity to Place Call could look as follows:
</p>
<p class="example">
    <b>Condition:</b> Receiving party must have ordered the service "Caller ID".
</p>
<p class="example">
    <b>Extension Point(s):</b> Show Identity - insert the whole Show Caller Identity use case.
</p>
<p>
    You&nbsp;can give the extend-relationship a multiplicity, if it is omitted the multiplicity is assumed to be one.
</p>
<h3>
    <a id="Example of Use" name="Example of Use">Example of Use</a>
</h3>
<p>
    Consider the following simple phone system:
</p>
<p align="center">
    <img height="182" alt="Diagram described in accompanying text." src="./../../../practice.tech.use_case_driven_dev.extend-ibm/guidances/guidelines/./resources/extend4.gif" width="271" />
</p>
<p class="picturetext" align="center">
    The abstract use case Place Conference Call is an extension to the use case Place Call.
</p>
<p>
    In this model, a simple representation of our familiar phone system, basic call service is described in the use case
    Place Call. A step-by-step outline to the basic flow of events would look like this:
</p>
<ol>
    <li>
        The Caller lifts receiver.
    </li>
    <li>
        The system presents dial-tone.
    </li>
    <li>
        The Caller dials a digit.
    </li>
    <li>
        The System turns off the dial-tone.
    </li>
    <li>
        The Caller enters the remainder of the number.
    </li>
    <li>
        The system analyzes digits, determines network address of the Receiving Party.
    </li>
    <li>
        The system analyzes the digits, determining the location in the network where the Receiving Party exists.
    </li>
    <li>
        The system then determines whether a virtual circuit can be established to the Receiving Party.
    </li>
    <li>
        If a virtual circuit can be established, the System rings the Receiving Party's phone and presents the ringing tone
        on the Caller's phone.
    </li>
    <li>
        When the Receiving Party answers the phone, the system disables the ringing tone on the Caller's phone, stops
        ringing the Receiving Party's phone and completes the virtual circuit.
    </li>
    <li>
        The system starts a billing record, recording the start time for the call, the end points of the call, and the
        Caller's customer information.
    </li>
    <li>
        The call continues for some length of time. When either the Caller or the Receiving Party disconnects from the
        call, the system records the end time for the call, and frees all resources required to support the virtual
        circuit. The use case then ends.
    </li>
</ol>
<p>
    To add functionality to this system that would&nbsp;enable the caller or receiving party to connect a third party to
    the call (often called "conference call"), we need to add behavior to the flow of events. One alternative, and the
    first one we&nbsp;must consider, is to put the differences directly into Place Call. We could model these differences
    using alternative flows of events, as described in <a class="elementLinkWithType" href="./../../../core.tech.common.extend_supp/guidances/concepts/use_case_BB199D1B.html" guid="_KudM0NcJEdqz_d2XWoVt6Q">Concept: Use Case</a>. This solution works for most simple additions, where the added
    functionality will not confuse or obscure the original meaning of the use case. The other alternative is to separate
    the differences into an abstract extension use case called Place Conference Call which extends the base use case.
</p>
<p>
    The Place Call use case would have the following addition:
</p>
<blockquote>
    <p>
        <b><u>Extension points:<br />
        </u>Conference Call</b> occurs after step 11.
    </p>
</blockquote>
<p>
    The extension use case, Place Conference Call, could then be described as:
</p>
<blockquote>
    <p>
        <b><u>Place Conference Call Use Case<br />
        </u></b>This use case extends Place Call.&nbsp; It is inserted at extension point Conference Call.<br />
        <u>Basic Flow:<br />
        </u>1. Caller depresses the hang-up, link, or flash button.<br />
        2. The system generates 3 short beeps to acknowledge.<br />
        3..12.&lt;these steps are identical to steps 3..12 from the base use case&gt;<br />
        13. Caller is reconnected to the receiving party from the Place Call use case.
    </p>
</blockquote>
<p>
    The commonality of steps 3..12 with the base use case is undesirable.&nbsp; One way to solve this is to factor out the
    common part as an inclusion use case (see&nbsp;<a class="elementLinkWithType" href="./../../../practice.tech.use_case_driven_dev.extend-ibm/guidances/guidelines/defining_include_relationships_AC1665F7.html" guid="_9HuNEEk-Edyi3_jfs__bIQ">Guideline: Defining Include Relationships</a>).
</p></td>
</tr>
</table>
</div>
<table class="copyright" border="0" cellspacing="0" cellpadding="0">
<tr>
<td class="copyright"><p>
    Licensed Materials - Property of IBM<br />
    &copy; &nbsp;Copyright IBM Corp.&nbsp;1987, 2011.&nbsp; All Rights Reserved.
</p></td>
</tr>
</table>
</td>
</tr>
</table>
</body>
<script type="text/javascript" language="JavaScript">
				contentPage.onload();
			</script>
</html>
